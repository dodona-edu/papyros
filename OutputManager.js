!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Papyros=e():t.Papyros=e()}(self,(function(){return(()=>{var t={573:t=>{"use strict";var e=/["'&<>]/;t.exports=function(t){var r,n=""+t,a=e.exec(n);if(!a)return n;var o="",i=0,l=0;for(i=a.index;i<n.length;i++){switch(n.charCodeAt(i)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}l!==i&&(o+=n.substring(l,i)),l=i+1,o+=r}return l!==i?o+n.substring(l,i):o}},13:function(t,e,r){var n,a;a=this,n=function(){return function(t){"use strict";var e=t&&t.I18n||{},r=Array.prototype.slice,n=function(t){return("0"+t.toString()).substr(-2)},a=function(t,e){return h("round",t,-e).toFixed(e)},o=function(t){var e=typeof t;return"function"===e||"object"===e},i=function(t){return"function"==typeof t},l=function(t){return null!=t},s=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},u=function(t){return"string"==typeof t||"[object String]"===Object.prototype.toString.call(t)},c=function(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)},p=function(t){return!0===t||!1===t},f=function(t){return null===t},h=function(t,e,r){return void 0===r||0==+r?Math[t](e):(e=+e,r=+r,isNaN(e)||"number"!=typeof r||r%1!=0?NaN:(e=e.toString().split("e"),+((e=(e=Math[t](+(e[0]+"e"+(e[1]?+e[1]-r:-r)))).toString().split("e"))[0]+"e"+(e[1]?+e[1]+r:r))))},d=function(t,e){return i(t)?t(e):t},m=function(t,e){var r,n;for(r in e)e.hasOwnProperty(r)&&(n=e[r],u(n)||c(n)||p(n)||s(n)||f(n)?t[r]=n:(null==t[r]&&(t[r]={}),m(t[r],n)));return t},g={day_names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbr_day_names:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],month_names:[null,"January","February","March","April","May","June","July","August","September","October","November","December"],abbr_month_names:[null,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridian:["AM","PM"]},y={precision:3,separator:".",delimiter:",",strip_insignificant_zeros:!1},b={unit:"$",precision:2,format:"%u%n",sign_first:!0,delimiter:",",separator:"."},v={unit:"%",precision:3,format:"%n%u",separator:".",delimiter:""},S=[null,"kb","mb","gb","tb"],x={defaultLocale:"en",locale:"en",defaultSeparator:".",placeholder:/(?:\{\{|%\{)(.*?)(?:\}\}?)/gm,fallbacks:!1,translations:{},missingBehaviour:"message",missingTranslationPrefix:""};return e.reset=function(){var t;for(t in x)this[t]=x[t]},e.initializeOptions=function(){var t;for(t in x)l(this[t])||(this[t]=x[t])},e.initializeOptions(),e.locales={},e.locales.get=function(t){var r=this[t]||this[e.locale]||this.default;return i(r)&&(r=r(t)),!1===s(r)&&(r=[r]),r},e.locales.default=function(t){var r=[],n=[];return t&&r.push(t),!t&&e.locale&&r.push(e.locale),e.fallbacks&&e.defaultLocale&&r.push(e.defaultLocale),r.forEach((function(t){var r=t.split("-"),a=null,o=null;3===r.length?(a=[r[0],r[1]].join("-"),o=r[0]):2===r.length&&(a=r[0]),-1===n.indexOf(t)&&n.push(t),e.fallbacks&&[a,o].forEach((function(e){null!=e&&e!==t&&-1===n.indexOf(e)&&n.push(e)}))})),r.length||r.push("en"),n},e.pluralization={},e.pluralization.get=function(t){return this[t]||this[e.locale]||this.default},e.pluralization.default=function(t){switch(t){case 0:return["zero","other"];case 1:return["one"];default:return["other"]}},e.currentLocale=function(){return this.locale||this.defaultLocale},e.isSet=l,e.lookup=function(t,e){e=e||{};var r,n,a,o,i=this.locales.get(e.locale).slice();for(a=this.getFullScope(t,e);i.length;)if(r=i.shift(),n=a.split(e.separator||this.defaultSeparator),o=this.translations[r]){for(;n.length&&null!=(o=o[n.shift()]););if(null!=o)return o}if(l(e.defaultValue))return d(e.defaultValue,t)},e.pluralizationLookupWithoutFallback=function(t,e,r){var n,a,i=this.pluralization.get(e)(t);if(o(r))for(;i.length;)if(n=i.shift(),l(r[n])){a=r[n];break}return a},e.pluralizationLookup=function(t,e,r){r=r||{};var n,a,i,s,u=this.locales.get(r.locale).slice();for(e=this.getFullScope(e,r);u.length;)if(n=u.shift(),a=e.split(r.separator||this.defaultSeparator),i=this.translations[n]){for(;a.length&&(i=i[a.shift()],o(i));)0===a.length&&(s=this.pluralizationLookupWithoutFallback(t,n,i));if(null!=s)break}return null==s&&l(r.defaultValue)&&(s=o(r.defaultValue)?this.pluralizationLookupWithoutFallback(t,r.locale,r.defaultValue):r.defaultValue,i=r.defaultValue),{message:s,translations:i}},e.meridian=function(){var t=this.lookup("time"),e=this.lookup("date");return t&&t.am&&t.pm?[t.am,t.pm]:e&&e.meridian?e.meridian:g.meridian},e.prepareOptions=function(){for(var t,e=r.call(arguments),n={};e.length;)if("object"==typeof(t=e.shift()))for(var a in t)t.hasOwnProperty(a)&&(l(n[a])||(n[a]=t[a]));return n},e.createTranslationOptions=function(t,e){var r=[{scope:t}];return l(e.defaults)&&(r=r.concat(e.defaults)),l(e.defaultValue)&&r.push({message:e.defaultValue}),r},e.translate=function(t,e){e=e||{};var r,n=this.createTranslationOptions(t,e),a=t,i=this.prepareOptions(e);return delete i.defaultValue,n.some((function(e){if(l(e.scope)?(a=e.scope,r=this.lookup(a,i)):l(e.message)&&(r=d(e.message,t)),null!=r)return!0}),this)?("string"==typeof r?r=this.interpolate(r,e):s(r)?r=r.map((function(t){return"string"==typeof t?this.interpolate(t,e):t}),this):o(r)&&l(e.count)&&(r=this.pluralize(e.count,a,e)),r):this.missingTranslation(t,e)},e.interpolate=function(t,e){if(null==t)return t;e=e||{};var r,n,a,o,i=t.match(this.placeholder);if(!i)return t;for(;i.length;)a=(r=i.shift()).replace(this.placeholder,"$1"),n=l(e[a])?e[a].toString().replace(/\$/gm,"_#$#_"):a in e?this.nullPlaceholder(r,t,e):this.missingPlaceholder(r,t,e),o=new RegExp(r.replace(/{/gm,"\\{").replace(/}/gm,"\\}")),t=t.replace(o,n);return t.replace(/_#\$#_/g,"$")},e.pluralize=function(t,e,r){var n,a;return r=this.prepareOptions({count:String(t)},r),void 0===(a=this.pluralizationLookup(t,e,r)).translations||null==a.translations?this.missingTranslation(e,r):void 0!==a.message&&null!=a.message?this.interpolate(a.message,r):(n=this.pluralization.get(r.locale),this.missingTranslation(e+"."+n(t)[0],r))},e.missingTranslation=function(t,e){if("guess"===this.missingBehaviour){var r=t.split(".").slice(-1)[0];return(this.missingTranslationPrefix.length>0?this.missingTranslationPrefix:"")+r.replace(/_/g," ").replace(/([a-z])([A-Z])/g,(function(t,e,r){return e+" "+r.toLowerCase()}))}return'[missing "'+[null!=e&&null!=e.locale?e.locale:this.currentLocale(),this.getFullScope(t,e)].join(e.separator||this.defaultSeparator)+'" translation]'},e.missingPlaceholder=function(t,e,r){return"[missing "+t+" value]"},e.nullPlaceholder=function(){return e.missingPlaceholder.apply(e,arguments)},e.toNumber=function(t,e){e=this.prepareOptions(e,this.lookup("number.format"),y);var r,n,o=t<0,i=a(Math.abs(t),e.precision).toString().split("."),l=[],s=e.format||"%n",u=o?"-":"";for(t=i[0],r=i[1];t.length>0;)l.unshift(t.substr(Math.max(0,t.length-3),3)),t=t.substr(0,t.length-3);return n=l.join(e.delimiter),e.strip_insignificant_zeros&&r&&(r=r.replace(/0+$/,"")),e.precision>0&&r&&(n+=e.separator+r),n=(s=e.sign_first?"%s"+s:s.replace("%n","%s%n")).replace("%u",e.unit).replace("%n",n).replace("%s",u)},e.toCurrency=function(t,e){return e=this.prepareOptions(e,this.lookup("number.currency.format",e),this.lookup("number.format",e),b),this.toNumber(t,e)},e.localize=function(t,e,r){switch(r||(r={}),t){case"currency":return this.toCurrency(e,r);case"number":return t=this.lookup("number.format",r),this.toNumber(e,t);case"percentage":return this.toPercentage(e,r);default:var n;return n=t.match(/^(date|time)/)?this.toTime(t,e,r):e.toString(),this.interpolate(n,r)}},e.parseDate=function(t){var e,r,n;if(null==t)return t;if("object"==typeof t)return t;if(e=t.toString().match(/(\d{4})-(\d{2})-(\d{2})(?:[ T](\d{2}):(\d{2}):(\d{2})([\.,]\d{1,3})?)?(Z|\+00:?00)?/)){for(var a=1;a<=6;a++)e[a]=parseInt(e[a],10)||0;e[2]-=1,n=e[7]?1e3*("0"+e[7]):null,r=e[8]?new Date(Date.UTC(e[1],e[2],e[3],e[4],e[5],e[6],n)):new Date(e[1],e[2],e[3],e[4],e[5],e[6],n)}else"number"==typeof t?(r=new Date).setTime(t):t.match(/([A-Z][a-z]{2}) ([A-Z][a-z]{2}) (\d+) (\d+:\d+:\d+) ([+-]\d+) (\d+)/)?(r=new Date).setTime(Date.parse([RegExp.$1,RegExp.$2,RegExp.$3,RegExp.$6,RegExp.$4,RegExp.$5].join(" "))):(t.match(/\d+ \d+:\d+:\d+ [+-]\d+ \d+/),(r=new Date).setTime(Date.parse(t)));return r},e.strftime=function(t,r,a){a=this.lookup("date",a);var o=e.meridian();if(a||(a={}),a=this.prepareOptions(a,g),isNaN(t.getTime()))throw new Error("I18n.strftime() requires a valid date object, but received an invalid date.");var i=t.getDay(),l=t.getDate(),s=t.getFullYear(),u=t.getMonth()+1,c=t.getHours(),p=c,f=c>11?1:0,h=t.getSeconds(),d=t.getMinutes(),m=t.getTimezoneOffset(),y=Math.floor(Math.abs(m/60)),b=Math.abs(m)-60*y,v=(m>0?"-":"+")+(y.toString().length<2?"0"+y:y)+(b.toString().length<2?"0"+b:b);return p>12?p-=12:0===p&&(p=12),r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=r.replace("%a",a.abbr_day_names[i])).replace("%A",a.day_names[i])).replace("%b",a.abbr_month_names[u])).replace("%B",a.month_names[u])).replace("%d",n(l))).replace("%e",l)).replace("%-d",l)).replace("%H",n(c))).replace("%-H",c)).replace("%k",c)).replace("%I",n(p))).replace("%-I",p)).replace("%l",p)).replace("%m",n(u))).replace("%-m",u)).replace("%M",n(d))).replace("%-M",d)).replace("%p",o[f])).replace("%P",o[f].toLowerCase())).replace("%S",n(h))).replace("%-S",h)).replace("%w",i)).replace("%y",n(s))).replace("%-y",n(s).replace(/^0+/,""))).replace("%Y",s)).replace("%z",v)).replace("%Z",v)},e.toTime=function(t,e,r){var n=this.parseDate(e),a=this.lookup(t,r);if(null==n)return n;var o=n.toString();return o.match(/invalid/i)?o:a?this.strftime(n,a,r):o},e.toPercentage=function(t,e){return e=this.prepareOptions(e,this.lookup("number.percentage.format",e),this.lookup("number.format",e),v),this.toNumber(t,e)},e.toHumanSize=function(t,e){for(var r,n,a,o=1024,i=t,l=0;i>=o&&l<4;)i/=o,l+=1;return 0===l?(a=this.getFullScope("number.human.storage_units.units.byte",e),r=this.t(a,{count:i}),n=0):(a=this.getFullScope("number.human.storage_units.units."+S[l],e),r=this.t(a),n=i-Math.floor(i)==0?0:1),e=this.prepareOptions(e,{unit:r,precision:n,format:"%n%u",delimiter:""}),this.toNumber(i,e)},e.getFullScope=function(t,e){return e=e||{},s(t)&&(t=t.join(e.separator||this.defaultSeparator)),e.scope&&(t=[e.scope,t].join(e.separator||this.defaultSeparator)),t},e.extend=function(t,e){return void 0===t&&void 0===e?{}:m(t,e)},e.t=e.translate.bind(e),e.l=e.localize.bind(e),e.p=e.pluralize.bind(e),e}(a)}.call(e,r,e,t),void 0===n||(t.exports=n)},223:(t,e,r)=>{"use strict";r.d(e,{K:()=>n});var n=function(t,e,r){var n=e?'title="'.concat(e,'"'):"";return"<span ".concat(n,' class="display-block font-bold text-center\n    w-10 h-10 rounded-full px-1 text-').concat(r," bg-white-500 border-").concat(r,' border-2">').concat(t,"</span>")}},155:(t,e,r)=>{"use strict";r.d(e,{h:()=>n,V:()=>i});var n,a=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,a,o=r.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)i.push(n.value)}catch(t){a={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return i},o=function(t,e,r){if(r||2===arguments.length)for(var n,a=0,o=e.length;a<o;a++)!n&&a in e||(n||(n=Array.prototype.slice.call(e,0,a)),n[a]=e[a]);return t.concat(n||Array.prototype.slice.call(e))};!function(t){t[t.Debug=0]="Debug",t[t.Error=1]="Error",t[t.Important=2]="Important"}(n||(n={}));function i(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var i=t!==n.Debug;i&&(t===n.Error?console.error.apply(console,o([],a(e),!1)):console.log.apply(console,o([],a(e),!1)))}},924:(t,e,r)=>{"use strict";r.d(e,{t:()=>u,sb:()=>c,cm:()=>p,Sp:()=>f});var n=r(13),a=r.n(n),o=(r(963),r(155)),i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,a,o=r.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)i.push(n.value)}catch(t){a={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return i},s=function(t,e,r){if(r||2===arguments.length)for(var n,a=0,o=e.length;a<o;a++)!n&&a in e||(n||(n=Array.prototype.slice.call(e,0,a)),n[a]=e[a]);return t.concat(n||Array.prototype.slice.call(e))},u=a().t;function c(t){return"string"==typeof t?document.getElementById(t):t}function p(t,e){var r,n,a,o=c(t.parentElementId);if(t.classNames&&(r=o.classList).add.apply(r,s([],l(t.classNames.split(" ")),!1)),t.attributes)try{for(var u=i(t.attributes.entries()),p=u.next();!p.done;p=u.next()){var f=l(p.value,2),h=f[0],d=f[1];o.setAttribute(h,d)}}catch(t){n={error:t}}finally{try{p&&!p.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}return"string"==typeof e?o.innerHTML=e:o.replaceChildren(e),o}function f(t){var e=t.data,r=l(t.contentType.split("/"),2),n=r[0],a=r[1];switch(n){case"text":switch(a){case"plain":return e;case"json":return JSON.parse(e)}break;case"img":if("png;base64"===a)return e}return(0,o.V)(o.h.Important,"Unhandled content type: ".concat(t.contentType)),e}},963:t=>{}},e={};function r(n){var a=e[n];if(void 0!==a)return a.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,r),o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{"use strict";r.r(n),r.d(n,{OutputManager:()=>s});var t=r(573),e=r.n(t),a=r(223),o=r(924),i=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,a,o=r.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)i.push(n.value)}catch(t){a={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return i},l=function(t,e,r){if(r||2===arguments.length)for(var n,a=0,o=e.length;a<o;a++)!n&&a in e||(n||(n=Array.prototype.slice.call(e,0,a)),n[a]=e[a]);return t.concat(n||Array.prototype.slice.call(e))},s=function(){function t(){this.options={parentElementId:""}}return Object.defineProperty(t.prototype,"outputArea",{get:function(){return(0,o.sb)(this.options.parentElementId)},enumerable:!1,configurable:!0}),t.prototype.renderNextElement=function(t){this.outputArea.insertAdjacentHTML("beforeend",t)},t.prototype.spanify=function(t,r,n){void 0===r&&(r=!1),void 0===n&&(n="");var a=t;return a.includes("\n")&&"\n"!==a&&(a=a.split("\n").filter((function(t){return!r||t.trim().length>0})).join("\n")),'<span class="'.concat(n,'">').concat(e()(a),"</span>")},t.prototype.showOutput=function(t){var e=(0,o.Sp)(t);"img/png;base64"===t.contentType?this.renderNextElement('<img src="data:image/png;base64, '.concat(e,'"></img>')):this.renderNextElement(this.spanify(e,!1))},t.prototype.showError=function(t){var r="",n=(0,o.Sp)(t);if("string"==typeof n)r=this.spanify(n);else{var i=n,l=(i.where||"").trim();l&&(l=this.spanify("  "+l,!0,"where")),r+='<div class="text-red-500 text-bold">';var s=(0,a.K)("?",e()(i.info),"blue-500"),u=(0,a.K)("!",e()(i.traceback),"red-500");r+="".concat(s).concat(i.name," traceback:").concat(u,"\n"),r+=l,r+="</div>\n",i.what&&(r+=this.spanify(i.what.trim(),!0,"what")+"\n"),i.why&&(r+=this.spanify(i.why.trim(),!0,"why")+"\n")}this.renderNextElement(r)},t.prototype.render=function(t){t.attributes=new Map(l([["data-placeholder",(0,o.t)("Papyros.output_placeholder")]],i(t.attributes||[]),!1));var e=t.classNames?t.classNames+" ":"";return t.classNames="".concat(e,"border-2 w-full min-h-1/4 max-h-3/5 overflow-auto py-1 px-2 whitespace-pre with-placeholder"),this.options=t,(0,o.cm)(t,"")},t.prototype.reset=function(){this.render(this.options)},t.prototype.onRunStart=function(){this.reset()},t.prototype.onRunEnd=function(){},t}()})(),n})()}));