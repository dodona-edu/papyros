!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Papyros=t():e.Papyros=t()}(self,(function(){return(()=>{var e={13:function(e,t,r){var n,o;o=this,n=function(){return function(e){"use strict";var t=e&&e.I18n||{},r=Array.prototype.slice,n=function(e){return("0"+e.toString()).substr(-2)},o=function(e,t){return h("round",e,-t).toFixed(t)},a=function(e){var t=typeof e;return"function"===t||"object"===t},i=function(e){return"function"==typeof e},u=function(e){return null!=e},s=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},l=function(e){return"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)},c=function(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)},f=function(e){return!0===e||!1===e},p=function(e){return null===e},h=function(e,t,r){return void 0===r||0==+r?Math[e](t):(t=+t,r=+r,isNaN(t)||"number"!=typeof r||r%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-r:-r)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+r:r))))},d=function(e,t){return i(e)?e(t):e},m=function(e,t){var r,n;for(r in t)t.hasOwnProperty(r)&&(n=t[r],l(n)||c(n)||f(n)||s(n)||p(n)?e[r]=n:(null==e[r]&&(e[r]={}),m(e[r],n)));return e},y={day_names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbr_day_names:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],month_names:[null,"January","February","March","April","May","June","July","August","September","October","November","December"],abbr_month_names:[null,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridian:["AM","PM"]},g={precision:3,separator:".",delimiter:",",strip_insignificant_zeros:!1},v={unit:"$",precision:2,format:"%u%n",sign_first:!0,delimiter:",",separator:"."},b={unit:"%",precision:3,format:"%n%u",separator:".",delimiter:""},S=[null,"kb","mb","gb","tb"],w={defaultLocale:"en",locale:"en",defaultSeparator:".",placeholder:/(?:\{\{|%\{)(.*?)(?:\}\}?)/gm,fallbacks:!1,translations:{},missingBehaviour:"message",missingTranslationPrefix:""};return t.reset=function(){var e;for(e in w)this[e]=w[e]},t.initializeOptions=function(){var e;for(e in w)u(this[e])||(this[e]=w[e])},t.initializeOptions(),t.locales={},t.locales.get=function(e){var r=this[e]||this[t.locale]||this.default;return i(r)&&(r=r(e)),!1===s(r)&&(r=[r]),r},t.locales.default=function(e){var r=[],n=[];return e&&r.push(e),!e&&t.locale&&r.push(t.locale),t.fallbacks&&t.defaultLocale&&r.push(t.defaultLocale),r.forEach((function(e){var r=e.split("-"),o=null,a=null;3===r.length?(o=[r[0],r[1]].join("-"),a=r[0]):2===r.length&&(o=r[0]),-1===n.indexOf(e)&&n.push(e),t.fallbacks&&[o,a].forEach((function(t){null!=t&&t!==e&&-1===n.indexOf(t)&&n.push(t)}))})),r.length||r.push("en"),n},t.pluralization={},t.pluralization.get=function(e){return this[e]||this[t.locale]||this.default},t.pluralization.default=function(e){switch(e){case 0:return["zero","other"];case 1:return["one"];default:return["other"]}},t.currentLocale=function(){return this.locale||this.defaultLocale},t.isSet=u,t.lookup=function(e,t){t=t||{};var r,n,o,a,i=this.locales.get(t.locale).slice();for(o=this.getFullScope(e,t);i.length;)if(r=i.shift(),n=o.split(t.separator||this.defaultSeparator),a=this.translations[r]){for(;n.length&&null!=(a=a[n.shift()]););if(null!=a)return a}if(u(t.defaultValue))return d(t.defaultValue,e)},t.pluralizationLookupWithoutFallback=function(e,t,r){var n,o,i=this.pluralization.get(t)(e);if(a(r))for(;i.length;)if(n=i.shift(),u(r[n])){o=r[n];break}return o},t.pluralizationLookup=function(e,t,r){r=r||{};var n,o,i,s,l=this.locales.get(r.locale).slice();for(t=this.getFullScope(t,r);l.length;)if(n=l.shift(),o=t.split(r.separator||this.defaultSeparator),i=this.translations[n]){for(;o.length&&(i=i[o.shift()],a(i));)0===o.length&&(s=this.pluralizationLookupWithoutFallback(e,n,i));if(null!=s)break}return null==s&&u(r.defaultValue)&&(s=a(r.defaultValue)?this.pluralizationLookupWithoutFallback(e,r.locale,r.defaultValue):r.defaultValue,i=r.defaultValue),{message:s,translations:i}},t.meridian=function(){var e=this.lookup("time"),t=this.lookup("date");return e&&e.am&&e.pm?[e.am,e.pm]:t&&t.meridian?t.meridian:y.meridian},t.prepareOptions=function(){for(var e,t=r.call(arguments),n={};t.length;)if("object"==typeof(e=t.shift()))for(var o in e)e.hasOwnProperty(o)&&(u(n[o])||(n[o]=e[o]));return n},t.createTranslationOptions=function(e,t){var r=[{scope:e}];return u(t.defaults)&&(r=r.concat(t.defaults)),u(t.defaultValue)&&r.push({message:t.defaultValue}),r},t.translate=function(e,t){t=t||{};var r,n=this.createTranslationOptions(e,t),o=e,i=this.prepareOptions(t);return delete i.defaultValue,n.some((function(t){if(u(t.scope)?(o=t.scope,r=this.lookup(o,i)):u(t.message)&&(r=d(t.message,e)),null!=r)return!0}),this)?("string"==typeof r?r=this.interpolate(r,t):s(r)?r=r.map((function(e){return"string"==typeof e?this.interpolate(e,t):e}),this):a(r)&&u(t.count)&&(r=this.pluralize(t.count,o,t)),r):this.missingTranslation(e,t)},t.interpolate=function(e,t){if(null==e)return e;t=t||{};var r,n,o,a,i=e.match(this.placeholder);if(!i)return e;for(;i.length;)o=(r=i.shift()).replace(this.placeholder,"$1"),n=u(t[o])?t[o].toString().replace(/\$/gm,"_#$#_"):o in t?this.nullPlaceholder(r,e,t):this.missingPlaceholder(r,e,t),a=new RegExp(r.replace(/{/gm,"\\{").replace(/}/gm,"\\}")),e=e.replace(a,n);return e.replace(/_#\$#_/g,"$")},t.pluralize=function(e,t,r){var n,o;return r=this.prepareOptions({count:String(e)},r),void 0===(o=this.pluralizationLookup(e,t,r)).translations||null==o.translations?this.missingTranslation(t,r):void 0!==o.message&&null!=o.message?this.interpolate(o.message,r):(n=this.pluralization.get(r.locale),this.missingTranslation(t+"."+n(e)[0],r))},t.missingTranslation=function(e,t){if("guess"===this.missingBehaviour){var r=e.split(".").slice(-1)[0];return(this.missingTranslationPrefix.length>0?this.missingTranslationPrefix:"")+r.replace(/_/g," ").replace(/([a-z])([A-Z])/g,(function(e,t,r){return t+" "+r.toLowerCase()}))}return'[missing "'+[null!=t&&null!=t.locale?t.locale:this.currentLocale(),this.getFullScope(e,t)].join(t.separator||this.defaultSeparator)+'" translation]'},t.missingPlaceholder=function(e,t,r){return"[missing "+e+" value]"},t.nullPlaceholder=function(){return t.missingPlaceholder.apply(t,arguments)},t.toNumber=function(e,t){t=this.prepareOptions(t,this.lookup("number.format"),g);var r,n,a=e<0,i=o(Math.abs(e),t.precision).toString().split("."),u=[],s=t.format||"%n",l=a?"-":"";for(e=i[0],r=i[1];e.length>0;)u.unshift(e.substr(Math.max(0,e.length-3),3)),e=e.substr(0,e.length-3);return n=u.join(t.delimiter),t.strip_insignificant_zeros&&r&&(r=r.replace(/0+$/,"")),t.precision>0&&r&&(n+=t.separator+r),n=(s=t.sign_first?"%s"+s:s.replace("%n","%s%n")).replace("%u",t.unit).replace("%n",n).replace("%s",l)},t.toCurrency=function(e,t){return t=this.prepareOptions(t,this.lookup("number.currency.format",t),this.lookup("number.format",t),v),this.toNumber(e,t)},t.localize=function(e,t,r){switch(r||(r={}),e){case"currency":return this.toCurrency(t,r);case"number":return e=this.lookup("number.format",r),this.toNumber(t,e);case"percentage":return this.toPercentage(t,r);default:var n;return n=e.match(/^(date|time)/)?this.toTime(e,t,r):t.toString(),this.interpolate(n,r)}},t.parseDate=function(e){var t,r,n;if(null==e)return e;if("object"==typeof e)return e;if(t=e.toString().match(/(\d{4})-(\d{2})-(\d{2})(?:[ T](\d{2}):(\d{2}):(\d{2})([\.,]\d{1,3})?)?(Z|\+00:?00)?/)){for(var o=1;o<=6;o++)t[o]=parseInt(t[o],10)||0;t[2]-=1,n=t[7]?1e3*("0"+t[7]):null,r=t[8]?new Date(Date.UTC(t[1],t[2],t[3],t[4],t[5],t[6],n)):new Date(t[1],t[2],t[3],t[4],t[5],t[6],n)}else"number"==typeof e?(r=new Date).setTime(e):e.match(/([A-Z][a-z]{2}) ([A-Z][a-z]{2}) (\d+) (\d+:\d+:\d+) ([+-]\d+) (\d+)/)?(r=new Date).setTime(Date.parse([RegExp.$1,RegExp.$2,RegExp.$3,RegExp.$6,RegExp.$4,RegExp.$5].join(" "))):(e.match(/\d+ \d+:\d+:\d+ [+-]\d+ \d+/),(r=new Date).setTime(Date.parse(e)));return r},t.strftime=function(e,r,o){o=this.lookup("date",o);var a=t.meridian();if(o||(o={}),o=this.prepareOptions(o,y),isNaN(e.getTime()))throw new Error("I18n.strftime() requires a valid date object, but received an invalid date.");var i=e.getDay(),u=e.getDate(),s=e.getFullYear(),l=e.getMonth()+1,c=e.getHours(),f=c,p=c>11?1:0,h=e.getSeconds(),d=e.getMinutes(),m=e.getTimezoneOffset(),g=Math.floor(Math.abs(m/60)),v=Math.abs(m)-60*g,b=(m>0?"-":"+")+(g.toString().length<2?"0"+g:g)+(v.toString().length<2?"0"+v:v);return f>12?f-=12:0===f&&(f=12),r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=r.replace("%a",o.abbr_day_names[i])).replace("%A",o.day_names[i])).replace("%b",o.abbr_month_names[l])).replace("%B",o.month_names[l])).replace("%d",n(u))).replace("%e",u)).replace("%-d",u)).replace("%H",n(c))).replace("%-H",c)).replace("%k",c)).replace("%I",n(f))).replace("%-I",f)).replace("%l",f)).replace("%m",n(l))).replace("%-m",l)).replace("%M",n(d))).replace("%-M",d)).replace("%p",a[p])).replace("%P",a[p].toLowerCase())).replace("%S",n(h))).replace("%-S",h)).replace("%w",i)).replace("%y",n(s))).replace("%-y",n(s).replace(/^0+/,""))).replace("%Y",s)).replace("%z",b)).replace("%Z",b)},t.toTime=function(e,t,r){var n=this.parseDate(t),o=this.lookup(e,r);if(null==n)return n;var a=n.toString();return a.match(/invalid/i)?a:o?this.strftime(n,o,r):a},t.toPercentage=function(e,t){return t=this.prepareOptions(t,this.lookup("number.percentage.format",t),this.lookup("number.format",t),b),this.toNumber(e,t)},t.toHumanSize=function(e,t){for(var r,n,o,a=1024,i=e,u=0;i>=a&&u<4;)i/=a,u+=1;return 0===u?(o=this.getFullScope("number.human.storage_units.units.byte",t),r=this.t(o,{count:i}),n=0):(o=this.getFullScope("number.human.storage_units.units."+S[u],t),r=this.t(o),n=i-Math.floor(i)==0?0:1),t=this.prepareOptions(t,{unit:r,precision:n,format:"%n%u",delimiter:""}),this.toNumber(i,t)},t.getFullScope=function(e,t){return t=t||{},s(e)&&(e=e.join(t.separator||this.defaultSeparator)),t.scope&&(e=[t.scope,e].join(t.separator||this.defaultSeparator)),e},t.extend=function(e,t){return void 0===e&&void 0===t?{}:m(e,t)},t.t=t.translate.bind(t),t.l=t.localize.bind(t),t.p=t.pluralize.bind(t),t}(o)}.call(t,r,t,e),void 0===n||(e.exports=n)},137:e=>{self,e.exports=(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{serviceWorkerFetchListener:()=>s,asyncSleep:()=>l,ServiceWorkerError:()=>f,writeMessageAtomics:()=>p,writeMessageServiceWorker:()=>h,writeMessage:()=>d,makeChannel:()=>m,makeAtomicsChannel:()=>y,makeServiceWorkerChannel:()=>g,readMessage:()=>b,syncSleep:()=>S,uuidv4:()=>c});var r,n=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function u(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,u)}s((n=n.apply(e,t||[])).next())}))},a=function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},i="__SyncMessageServiceWorkerInput__",u="__sync-message-v2__";function s(){var e={},t={};return function(r){var n=r.request.url;return!!n.includes(i)&&(r.respondWith(function(){return o(this,void 0,void 0,(function(){function o(e){var t={message:e,version:u};return new Response(JSON.stringify(t),{status:200})}var i,s,l,c,f,p,h,d;return a(this,(function(a){switch(a.label){case 0:return n.endsWith("/read")?[4,r.request.json()]:[3,5];case 1:return i=a.sent(),s=i.messageId,l=i.timeout,(c=e[s])?(delete e[s],[2,o(c)]):[3,2];case 2:return[4,new Promise((function(e){t[s]=e,setTimeout((function(){delete t[s],e(new Response("",{status:408}))}),l)}))];case 3:return[2,a.sent()];case 4:return[3,8];case 5:return n.endsWith("/write")?[4,r.request.json()]:[3,7];case 6:return f=a.sent(),p=f.message,h=f.messageId,(d=t[h])?(d(o(p)),delete t[h]):e[h]=p,[2,o({early:!d})];case 7:if(n.endsWith("/version"))return[2,new Response(u,{status:200})];a.label=8;case 8:return[2]}}))}))}()),!0)}}function l(e){return new Promise((function(t){return setTimeout(t,e)}))}var c,f=function(e){function t(r,n){var o=e.call(this,"Received status ".concat(n," from ").concat(r,". Ensure the service worker is registered and active."))||this;return o.url=r,o.status=n,Object.setPrototypeOf(o,t.prototype),o}return n(t,e),t}(Error);function p(e,t){var r=(new TextEncoder).encode(JSON.stringify(t)),n=e.data,o=e.meta;if(r.length>n.length)throw"Input is too long";n.set(r,0),Atomics.store(o,0,r.length),Atomics.store(o,1,1),Atomics.notify(o,1)}function h(e,t,r){return o(this,void 0,void 0,(function(){var n,o,i,s,c;return a(this,(function(a){switch(a.label){case 0:return[4,navigator.serviceWorker.ready];case 1:a.sent(),n=e.baseUrl+"/write",o=Date.now(),a.label=2;case 2:return i={message:t,messageId:r},[4,fetch(n,{method:"POST",body:JSON.stringify(i)})];case 3:return s=a.sent(),(c=200===s.status)?[4,s.json()]:[3,5];case 4:c=a.sent().version===u,a.label=5;case 5:return c?[2]:Date.now()-o<e.timeout?[4,l(100)]:[3,7];case 6:return a.sent(),[3,2];case 7:throw new f(n,s.status);case 8:return[2]}}))}))}function d(e,t,r){return o(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return"atomics"!==e.type?[3,1]:(p(e,t),[3,3]);case 1:return[4,h(e,t,r)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function m(e){return void 0===e&&(e={}),"undefined"!=typeof SharedArrayBuffer?y(e.atomics):"serviceWorker"in navigator?g(e.serviceWorker):null}function y(e){var t=(void 0===e?{}:e).bufferSize;return{type:"atomics",data:new Uint8Array(new SharedArrayBuffer(t||131072)),meta:new Int32Array(new SharedArrayBuffer(2*Int32Array.BYTES_PER_ELEMENT))}}function g(e){return void 0===e&&(e={}),{type:"serviceWorker",baseUrl:(e.scope||"/")+i,timeout:e.timeout||5e3}}function v(e,t){return e>0?+e:t}function b(e,t,r){var n=void 0===r?{}:r,o=n.checkInterrupt,a=n.checkTimeout,i=n.timeout,s=performance.now();a=v(a,o?100:5e3);var l,c=v(i,Number.POSITIVE_INFINITY);if("atomics"===e.type){var p=e.data,h=e.meta;l=function(){if("timed-out"===Atomics.wait(h,1,0,a))return null;var e=Atomics.exchange(h,0,0),t=p.slice(0,e);Atomics.store(h,1,0);var r=(new TextDecoder).decode(t);return JSON.parse(r)}}else l=function(){var r=new XMLHttpRequest,n=e.baseUrl+"/read";r.open("POST",n,!1);var o={messageId:t,timeout:a};r.send(JSON.stringify(o));var i=r.status;if(408===i)return null;if(200===i){var l=JSON.parse(r.responseText);return l.version!==u?null:l.message}if(performance.now()-s<e.timeout)return null;throw new f(n,i)};for(;;){var d=c-(performance.now()-s);if(d<=0)return null;a=Math.min(a,d);var m=l();if(null!==m)return m;if(null==o?void 0:o())return null}}function S(e,t){if(e=v(e,0))if("undefined"!=typeof SharedArrayBuffer){var r=new Int32Array(new SharedArrayBuffer(Int32Array.BYTES_PER_ELEMENT));r[0]=0,Atomics.wait(r,0,0,e)}else b(t,"sleep ".concat(e," ").concat(c()),{timeout:e})}return c="randomUUID"in crypto?function(){return crypto.randomUUID()}:function(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(function(e){var t=Number(e);return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)}))},t})()},155:(e,t,r)=>{"use strict";r.d(t,{LogType:()=>n,papyrosLog:()=>i});var n,o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},a=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,a=t.length;o<a;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};!function(e){e[e.Debug=0]="Debug",e[e.Error=1]="Error",e[e.Important=2]="Important"}(n||(n={}));function i(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=e!==n.Debug;i&&(e===n.Error?console.error.apply(console,a([],o(t),!1)):console.log.apply(console,a([],o(t),!1)))}},924:(e,t,r)=>{"use strict";r.d(t,{parseData:()=>u});var n=r(13),o=r.n(n),a=(r(963),r(155)),i=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};o().t;function u(e,t){var r=i(t.split("/"),2),n=r[0],o=r[1];switch(n){case"text":switch(o){case"plain":return e;case"json":return JSON.parse(e)}break;case"img":if("png;base64"===o)return e}return(0,a.papyrosLog)(a.LogType.Important,"Unhandled content type: ".concat(t)),e}},963:e=>{}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{"use strict";r.r(n),r.d(n,{Backend:()=>s});var e=r(137),t=r(924),o=r(155),a=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function u(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,u)}s((n=n.apply(e,t||[])).next())}))},i=function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},u=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},s=function(){function r(){this.onEvent=function(){},this.runId=0}return r.prototype.launch=function(r,n){var o=this;return this.onEvent=function(a){return a.runId=o.runId,"input"===a.type?function(o){var a=(0,t.parseData)(o.data,o.contentType),i=(0,e.uuidv4)();return a.messageId=i,o.data=JSON.stringify(a),o.contentType="text/json",r(o),(0,e.readMessage)(n,i)}(a):r(a)},Promise.resolve()},r.prototype.runCode=function(e,t){return a(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return this.runId=t,[4,this._runCodeInternal(e)];case 1:return[2,r.sent()]}}))}))},r.convertCompletionContext=function(e,t){void 0===t&&(t=/\w*(\.)?/);var r=u(e.state.selection.ranges.map((function(t){var r=e.state.doc.lineAt(t.head);return[r.number,t.head-r.from]}))[0],2),n=r[0],a=r[1],i=e.matchBefore(t),s={explicit:e.explicit,before:i,pos:e.pos,column:a,line:n,text:e.state.doc.toString()};return(0,o.papyrosLog)(o.LogType.Debug,"Worker completion context:",s),s},r}()})(),n})()}));